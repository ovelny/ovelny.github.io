<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ovelny - chaos/beej's-guide-to-c-programming/03-variables-and-statements</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta
      name="description"
      content="ovelny - notes on infosec, penetration testing, programming and others"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="stylesheet" type=text/css href="/assets/css/dead-simple.min.css">
    <link rel="stylesheet" type=text/css href="/assets/css/rouge.min.css">
    <link
      href="/atom.xml"
      rel="alternate"
      title="ovelny"
      type="application/atom+xml"
    />
    <script src="/assets/js/scramble-text.min.js" defer></script>
    <script src="/assets/js/zoom-images.min.js" defer></script>
    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@ovelny"/>
    <meta name="twitter:title" content="ovelny - chaos/beej's-guide-to-c-programming/03-variables-and-statements"/>
    <meta name="twitter:image" content="https://ovelny.sh/assets/images/ovelny-logo.png"/>
    <meta name="twitter:image:alt" content="ovelny logo: 6 white circles grouped together forming a triangle shape, with a black background."/>
  </head>
  <body>

    <header>
      <section>
        <a href="/">
          <img
            class="logo"
            src="/assets/images/ovelny-pfp.png"
            alt="ovelny profile picture: a glitched picture of a three-eyed girl, staring intensely at the viewer."
          />
        </a>
        <h2><a class="ovelny" href="/">ovelny</a></h2>
      </section>
      <nav>
        <a href="/">home</a>
        <a href="/chaos/">chaos</a>
        <a href="/phasm/">phasm</a>
        <a href="/support/">support</a>
        <a href="/atom.xml" target="_blank" rel="noopener noreferrer">rss</a>
        <a href="/about/">about</a>
      </nav>
    </header>
    <main>

    
    <h1>3 Variables and Statements</h1>

<blockquote>
<p><em>“It takes all kinds to make a world, does it not, Padre?”</em><br><br>
<em>“So it does, my son, so it does.”</em></p>

<p>—Pirate Captain Thomas Bartholomew Red to the Padre, Pirates</p>
</blockquote>

<p>There sure can be lotsa stuff in a C program.</p>

<p>Yup.</p>

<p>And for various reasons, it’ll be easier for all of us if we classify some of the types of things you can find in a program, so we can be clear what we’re talking about.</p>

<h2>3.1 Variables</h2>

<p>It’s said that “variables hold values”. But another way to think about it is that a variable is a human-readable name that refers to some data in memory.</p>

<p>We’re going to take a second here and take a peek down the rabbit hole that is pointers. Don’t worry about it.</p>

<p>You can think of memory as a big array of bytes<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³³</a>. Data is stored in this “array”<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁴</a>. If a number is larger than a single byte, it is stored in multiple bytes. Because memory is like an array, each byte of memory can be referred to by its index. This index into memory is also called an <em>address</em>, or a <em>location</em>, or a <em>pointer</em>.</p>

<p>When you have a variable in C, the value of that variable is in memory <em>somewhere</em>, at some address. Of course. After all, where else would it be? But it’s a pain to refer to a value by its numeric address, so we make a name for it instead, and that’s what the variable is.</p>

<p>The reason I’m bringing all this up is twofold:</p>

<ol>
<li> It’s going to make it easier to understand pointer variables later—they’re variables that hold the address of other variables!</li>
<li> Also, it’s going to make it easier to understand pointers later.</li>
</ol>

<p>So a variable is a name for some data that’s stored in memory at some address.</p>

<h3>3.1.1 Variable Names</h3>

<p>You can use any characters in the range 0-9, A-Z, a-z, and underscore for variable names, with the following rules:</p>

<ul>
<li>  You can’t start a variable with a digit 0-9.</li>
<li>  You can’t start a variable name with two underscores.</li>
<li>  You can’t start a variable name with an underscore followed by a capital A-Z.</li>
</ul>

<p>For Unicode, just try it. There are some rules in the spec in §D.2 that talk about which Unicode codepoint ranges are allowed in which parts of identifiers, but that’s too much to write about here and is probably something you’ll never have to think about anyway.</p>

<h3>3.1.2 Variable Types</h3>

<p>Depending on which languages you already have in your toolkit, you might or might not be familiar with the idea of types. But C’s kinda picky about them, so we should do a refresher.</p>

<p>Some example types, some of the most basic:</p>

<table><thead>
<tr>
<th style="text-align: left">Type</th>
<th style="text-align: right">Example</th>
<th style="text-align: left">C Type</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">Integer</td>
<td style="text-align: right"><code>3490</code></td>
<td style="text-align: left"><code>int</code></td>
</tr>
<tr>
<td style="text-align: left">Floating point</td>
<td style="text-align: right"><code>3.14159</code></td>
<td style="text-align: left"><code>float</code><a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁵</a></td>
</tr>
<tr>
<td style="text-align: left">Character (single)</td>
<td style="text-align: right"><code>&#39;c&#39;</code></td>
<td style="text-align: left"><code>char</code></td>
</tr>
<tr>
<td style="text-align: left">String</td>
<td style="text-align: right"><code>&quot;Hello, world!&quot;</code></td>
<td style="text-align: left"><code>char *</code><a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁶</a></td>
</tr>
</tbody></table>

<p>C makes an effort to convert automatically between most numeric types when you ask it to. But other than that, all conversions are manual, notably between string and numeric.</p>

<p>Almost all of the types in C are variants on these types.</p>

<p>Before you can use a variable, you have to <em>declare</em> that variable and tell C what type the variable holds. Once declared, the type of variable cannot be changed later at runtime. What you set it to is what it is until it falls out of scope and is reabsorbed into the universe.</p>

<p>Let’s take our previous “Hello, world” code and add a couple variables to it:</p>

<div class="highlight"><pre class="highlight c"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>    <span class="c1">// Holds signed integers, e.g. -3, -2, 0, 1, 10</span>
    <span class="kt">float</span> <span class="n">f</span><span class="p">;</span>  <span class="c1">// Holds signed floating point numbers, e.g. -3.1416</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Hello, World!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>  <span class="c1">// Ah, blessed familiarity</span>
<span class="p">}</span>
</code></pre></div>

<p>There! We’ve declared a couple of variables. We haven’t used them yet, and they’re both uninitialized. One holds an integer number, and the other holds a floating point number (a real number, basically, if you have a math background).</p>

<p>Uninitialized variables have indeterminate value<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁷</a>. They have to be initialized or else you must assume they contain some nonsense number.</p>

<blockquote>
<p>This is one of the places C can “get you”. Much of the time, in my experience, the indeterminate value is zero… but it can vary from run to run! Never assume the value will be zero, even if you see it is. <em>Always</em> explicitly initialize variables to some value before you use them<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁸</a>.</p>
</blockquote>

<p>What’s this? You want to store some numbers in those variables? Insanity!</p>

<p>Let’s go ahead and do that:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span><span class="p">;</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// Assign the value 2 into the variable i</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Hello, World!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Killer. We’ve stored a value. Let’s print it.</p>

<p>We’re going to do that by passing <em>two</em> amazing arguments to the <code>printf()</code> function. The first argument is a string that describes what to print and how to print it (called the <em>format string</em>), and the second is the value to print, namely whatever is in the variable <code>i</code>.</p>

<p><code>printf()</code> hunts through the format string for a variety of special sequences which start with a percent sign (<code>%</code>) that tell it what to print. For example, if it finds a <code>%d</code>, it looks to the next parameter that was passed, and prints it out as an integer. If it finds a <code>%f</code>, it prints the value out as a float. If it finds a <code>%s</code>, it prints a string.</p>

<p>As such, we can print out the value of various types like so:</p>

<div class="highlight"><pre class="highlight c"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">;</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">s</span> <span class="o">=</span> <span class="s">"Hello, world!"</span><span class="p">;</span>  <span class="c1">// char * ("char pointer") is the string type</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"%s  i = %d and f = %f!</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">f</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>And the output will be:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">Hello</span><span class="p">,</span> <span class="n">world</span><span class="o">!</span>  <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span> <span class="n">and</span> <span class="n">f</span> <span class="o">=</span> <span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="o">!</span>
</code></pre></div>

<p>In this way, <code>printf()</code> might be similar to various types of format strings or parameterized strings in other languages you’re familiar with.</p>

<h3>3.1.3 Boolean Types</h3>

<p>C has Boolean types, true or false?</p>

<p><code>1</code>!</p>

<p>Historically, C didn’t have a Boolean type, and some might argue it still doesn’t.</p>

<p>In C, <code>0</code> means “false”, and non-zero means “true”.</p>

<p>So <code>1</code> is true. And <code>-37</code> is true. And <code>0</code> is false.</p>

<p>You can just declare Boolean types as <code>int</code>s:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is true!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>If you <code>#include &lt;stdbool.h&gt;</code>, you also get access to some symbolic names that might make things look more familiar, namely a <code>bool</code> type and <code>true</code> and <code>false</code> values:</p>

<div class="highlight"><pre class="highlight c"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">bool</span> <span class="n">x</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"x is true!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>But these are identical to using integer values for true and false. They’re just a facade to make things look nice.</p>

<h2>3.2 Operators and Expressions</h2>

<p>C operators should be familiar to you from other languages. Let’s blast through some of them here.</p>

<p>(There are a bunch more details than this, but we’re going to do enough in this section to get started.)</p>

<h3>3.2.1 Arithmetic</h3>

<p>Hopefully these are familiar:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// Addition (+) and assignment (=) operators, add 3 to i</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">8</span><span class="p">;</span>  <span class="c1">// Subtraction, subtract 8 from i</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">9</span><span class="p">;</span>  <span class="c1">// Multiplication</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// Division</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span><span class="p">;</span>  <span class="c1">// Modulo (division remainder)</span>
</code></pre></div>

<p>There are shorthand variants for all of the above. Each of those lines could more tersely be written as:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span> <span class="o">+=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// Same as "i = i + 3", add 3 to i</span>
<span class="n">i</span> <span class="o">-=</span> <span class="mi">8</span><span class="p">;</span>  <span class="c1">// Same as "i = i - 8"</span>
<span class="n">i</span> <span class="o">*=</span> <span class="mi">9</span><span class="p">;</span>  <span class="c1">// Same as "i = i * 9"</span>
<span class="n">i</span> <span class="o">/=</span> <span class="mi">2</span><span class="p">;</span>  <span class="c1">// Same as "i = i / 2"</span>
<span class="n">i</span> <span class="o">%=</span> <span class="mi">5</span><span class="p">;</span>  <span class="c1">// Same as "i = i % 5"</span>
</code></pre></div>

<p>There is no exponentiation. You’ll have to use one of the <code>pow()</code> function variants from <code>math.h</code>.</p>

<p>Let’s get into some of the weirder stuff you might not have in your other languages!</p>

<h3>3.2.2 Ternary Operator</h3>

<p>C also includes the <em>ternary operator</em>. This is an expression whose value depends on the result of a conditional embedded in it.</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// If x &gt; 10, add 17 to y. Otherwise add 37 to y.</span>

<span class="n">y</span> <span class="o">+=</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="o">?</span> <span class="mi">17</span><span class="o">:</span> <span class="mi">37</span><span class="p">;</span>
</code></pre></div>

<p>What a mess! You’ll get used to it the more you read it. To help out a bit, I’ll rewrite the above expression using <code>if</code> statements:</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// This expression:</span>

<span class="n">y</span> <span class="o">+=</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="o">?</span> <span class="mi">17</span><span class="o">:</span> <span class="mi">37</span><span class="p">;</span>

<span class="c1">// is equivalent to this non-expression:</span>

<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="mi">17</span><span class="p">;</span>
<span class="k">else</span>
    <span class="n">y</span> <span class="o">+=</span> <span class="mi">37</span><span class="p">;</span>
</code></pre></div>

<p>Compare those two until you see each of the components of the ternary operator.</p>

<p>Or, another example that prints if a number stored in <code>x</code> is odd or even:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">printf</span><span class="p">(</span><span class="s">"The number %d is %s.</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">?</span> <span class="s">"even"</span><span class="o">:</span> <span class="s">"odd"</span><span class="p">)</span>
</code></pre></div>

<p>The <code>%s</code> format specifier in <code>printf()</code> means print a string. If the expression <code>x % 2</code> evaluates to <code>0</code>, the value of the entire ternary expression evaluates to the string <code>&quot;even&quot;</code>. Otherwise it evaluates to the string <code>&quot;odd&quot;</code>. Pretty cool!</p>

<p>It’s important to note that the ternary operator isn’t flow control like the <code>if</code> statement is. It’s just an expression that evaluates to a value.</p>

<h3>3.2.3 Pre-and-Post Increment-and-Decrement</h3>

<p>Now, let’s mess with another thing that you might not have seen.</p>

<p>These are the legendary post-increment and post-decrement operators:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span><span class="o">++</span><span class="p">;</span>        <span class="c1">// Add one to i (post-increment)</span>
<span class="n">i</span><span class="o">--</span><span class="p">;</span>        <span class="c1">// Subtract one from i (post-decrement)</span>
</code></pre></div>

<p>Very commonly, these are just used as shorter versions of:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>        <span class="c1">// Add one to i</span>
<span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>        <span class="c1">// Subtract one from i</span>
</code></pre></div>

<p>but they’re more subtly different than that, the clever scoundrels.</p>

<p>Let’s take a look at this variant, pre-increment and pre-decrement:</p>

<div class="highlight"><pre class="highlight c"><code><span class="o">++</span><span class="n">i</span><span class="p">;</span>        <span class="c1">// Add one to i (pre-increment)</span>
<span class="o">--</span><span class="n">i</span><span class="p">;</span>        <span class="c1">// Subtract one from i (pre-decrement)</span>
</code></pre></div>

<p>With pre-increment and pre-decrement, the value of the variable is incremented or decremented <em>before</em> the expression is evaluated. Then the expression is evaluated with the new value.</p>

<p>With post-increment and post-decrement, the value of the expression is first computed with the value as-is, and <em>then</em> the value is incremented or decremented after the value of the expression has been determined.</p>

<p>You can actually embed them in expressions, like this:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">i</span><span class="o">++</span><span class="p">;</span>  <span class="c1">// Compute 5 + i, _then_ increment i</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"%d, %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>  <span class="c1">// Prints 11, 15</span>
</code></pre></div>

<p>Let’s compare this to the pre-increment operator:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="n">j</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="o">++</span><span class="n">i</span><span class="p">;</span>  <span class="c1">// Increment i, _then_ compute 5 + i</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"%d, %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>  <span class="c1">// Prints 11, 16</span>
</code></pre></div>

<p>This technique is used frequently with array and pointer access and manipulation. It gives you a way to use the value in a variable, and also increment or decrement that value before or after it is used.</p>

<p>But by far the most common place you’ll see this is in a <code>for</code> loop:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
</code></pre></div>

<p>But more on that later.</p>

<h3>3.2.4 The Comma Operator</h3>

<p>This is an uncommonly-used way to separate expressions that will run left to right:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>  <span class="c1">// First assign 10 to x, then 20 to y</span>
</code></pre></div>

<p>Seems a bit silly, since you could just replace the comma with a semicolon, right?</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>  <span class="c1">// First assign 10 to x, then 20 to y</span>
</code></pre></div>

<p>But that’s a little different. The latter is two separate expressions, while the former is a single expression!</p>

<p>With the comma operator, the value of the comma expression is the value of the rightmost expression:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"x is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>  <span class="c1">// Prints 3, because 3 is rightmost in the comma list</span>
</code></pre></div>

<p>But even that’s pretty contrived. One common place the comma operator is used is in <code>for</code> loops to do multiple things in each section of the statement:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d, %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
</code></pre></div>

<p>We’ll revisit that later.</p>

<h3>3.2.5 Conditional Operators</h3>

<p>For Boolean values, we have a raft of standard operators:</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// True if a is equivalent to b</span>
<span class="n">a</span> <span class="o">!=</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// True if a is not equivalent to b</span>
<span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">;</span>   <span class="c1">// True if a is less than b</span>
<span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">;</span>   <span class="c1">// True if a is greater than b</span>
<span class="n">a</span> <span class="o">&lt;=</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// True if a is less than or equal to b</span>
<span class="n">a</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="p">;</span>  <span class="c1">// True if a is greater than or equal to b</span>
</code></pre></div>

<p>Don’t mix up assignment <code>=</code> with comparison <code>==</code>! Use two equals to compare, one to assign.</p>

<p>We can use the comparison expressions with <code>if</code> statements:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Success!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<h3>3.2.6 Boolean Operators</h3>

<p>We can chain together or alter conditional expressions with Boolean operators for <em>and</em>, <em>or</em>, and <em>not</em>.</p>

<table><thead>
<tr>
<th style="text-align: center">Operator</th>
<th style="text-align: center">Boolean meaning</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: center"><code>&amp;&amp;</code></td>
<td style="text-align: center">and</td>
</tr>
<tr>
<td style="text-align: center">&#124;&#124;</td>
<td style="text-align: center">or</td>
</tr>
<tr>
<td style="text-align: center"><code>!</code></td>
<td style="text-align: center">not</td>
</tr>
</tbody></table>

<p>An example of Boolean “and”:</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// Do something if x less than 10 and y greater than 20:</span>

<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">&gt;</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Doing something!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>An example of Boolean “not”:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">12</span><span class="p">))</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is not less than 12</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p><code>!</code> has higher precedence than the other Boolean operators, so we have to use parentheses in that case.</p>

<p>Of course, that’s just the same as:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mi">12</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is not less than 12</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>but I needed the example!</p>

<h3>3.2.7 The <code>sizeof</code> Operator</h3>

<p>This operator tells you the size (in bytes) that a particular variable or data type uses in memory.</p>

<p>More particularly, it tells you the size (in bytes) that the <em>type of a particular expression</em> (which might be just a single variable) uses in memory.</p>

<p>This can be different on different systems, except for <code>char</code> and its variants (which are always 1 byte).</p>

<p>And this might not seem very useful now, but we’ll be making references to it here and there, so it’s worth covering.</p>

<p>Since this computes the number of bytes needed to store a type, you might think it would return an <code>int</code>. Or… since the size can’t be negative, maybe an <code>unsigned</code>?</p>

<p>But it turns out C has a special type to represent the return value from <code>sizeof</code>. It’s <code>size_t</code>, pronounced “<em>size tee</em>”<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">³⁹</a>. All we know is that it’s an unsigned integer type that can hold the size in bytes of anything you can give to <code>sizeof</code>.</p>

<p><code>size_t</code> shows up a lot of different places where counts of things are passed or returned. Think of it as a value that represents a count.</p>

<p>You can take the <code>sizeof</code> a variable or expression:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">999</span><span class="p">;</span>

<span class="c1">// %zu is the format specifier for type size_t</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"%zu</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="k">sizeof</span> <span class="n">a</span><span class="p">);</span>      <span class="c1">// Prints 4 on my system</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"%zu</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">7</span><span class="p">));</span> <span class="c1">// Prints 4 on my system</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"%zu</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="k">sizeof</span> <span class="mi">3</span><span class="p">.</span><span class="mi">14</span><span class="p">);</span>   <span class="c1">// Prints 8 on my system</span>

<span class="c1">// If you need to print out negative size_t values, use %zd</span>
</code></pre></div>

<p>Remember: it’s the size in bytes of the <em>type</em> of the expression, not the size of the expression itself. That’s why the size of <code>2+7</code> is the same as the size of <code>a</code>—they’re both type <code>int</code>. We’ll revisit this number <code>4</code> in the very next block of code…</p>

<p>…Where we’ll see you can take the <code>sizeof</code> a type (note the parentheses are required around a type name, unlike an expression):</p>

<div class="highlight"><pre class="highlight c"><code><span class="n">printf</span><span class="p">(</span><span class="s">"%zu</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">));</span>   <span class="c1">// Prints 4 on my system</span>
<span class="n">printf</span><span class="p">(</span><span class="s">"%zu</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>  <span class="c1">// Prints 1 on all systems</span>
</code></pre></div>

<p>It’s important to note that <code>sizeof</code> is a <em>compile-time</em> operation<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">⁴⁰</a>. The result of the expression is determined entirely at compile-time, not at runtime.</p>

<p>We’ll make use of this later on.</p>

<h2>3.3 Flow Control</h2>

<p>Booleans are all good, but of course we’re nowhere if we can’t control program flow. Let’s take a look at a number of constructs: <code>if</code>, <code>for</code>, <code>while</code>, and <code>do-while</code>.</p>

<p>First, a general forward-looking note about statements and blocks of statements brought to you by your local friendly C developer:</p>

<p>After something like an <code>if</code> or <code>while</code> statement, you can either put a single statement to be executed, or a block of statements to all be executed in sequence.</p>

<p>Let’s start with a single statement:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">"x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>This is also sometimes written on a separate line. (Whitespace is largely irrelevant in C—it’s not like Python.)</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>But what if you want multiple things to happen due to the conditional? You can use squirrelly braces to mark a <em>block</em> or <em>compound statement</em>.</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"And also this happens when x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>It’s a really common style to <em>always</em> use squirrelly braces even if they aren’t necessary:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>Some devs feel the code is easier to read and avoids errors like this where things visually look like they’re in the <code>if</code> block, but actually they aren’t.</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// BAD ERROR EXAMPLE</span>

<span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"This happens if x is 10</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"This happens ALWAYS</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>  <span class="c1">// Surprise!! Unconditional!</span>
</code></pre></div>

<p><code>while</code> and <code>for</code> and the other looping constructs work the same way as the examples above. If you want to do multiple things in a loop or after an <code>if</code>, wrap them up in squirrelly braces.</p>

<p>In other words, the <code>if</code> is going to run the one thing after the <code>if</code>. And that one thing can be a single statement or a block of statements.</p>

<h3>3.3.1 The <code>if</code>-<code>else</code> statement</h3>

<p>We’ve already been using <code>if</code> for multiple examples, since it’s likely you’ve seen it in a language before, but here’s another:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Yes, i is greater than 10.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"And this will also print if i is greater than 10.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span> <span class="n">printf</span><span class="p">(</span><span class="s">"i is less than or equal to 10.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>In the example code, the message will print if <code>i</code> is greater than 10, otherwise execution continues to the next line. Notice the squirrley braces after the <code>if</code> statement; if the condition is true, either the first statement or expression right after the if will be executed, or else the collection of code in the squirlley braces after the <code>if</code> will be executed. This sort of <em>code block</em> behavior is common to all statements.</p>

<p>Of course, because C is fun this way, you can also do something if the condition is false with an <code>else</code> clause on your <code>if</code>:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">99</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is 10!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is decidedly not 10.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Which irritates me a little, frankly.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>And you can even cascade these to test a variety of conditions, like this:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">99</span><span class="p">;</span>

<span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is 10!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

<span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">20</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is 20!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

<span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="mi">99</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is 99! My favorite</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"I can't tell you how happy I am.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Really.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">else</span>
    <span class="nf">printf</span><span class="p">(</span><span class="s">"i is some crazy number I've never heard of.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>Though if you’re going that route, be sure to check out the <a href="variables-and-statements.html#switch-statement" rel="nofollow"><code>switch</code></a> statement for a potentially better solution. The catch is <code>switch</code> only works with equality comparisons with constant numbers. The above <code>if</code>-<code>else</code> cascade could check inequality, ranges, variables, or anything else you can craft in a conditional expression.</p>

<h3>3.3.2 The <code>while</code> statement</h3>

<p><code>while</code> is your average run-of-the-mill looping construct. Do a thing while a condition expression is true.</p>

<p>Let’s do one!</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// Print the following output:</span>
<span class="c1">//</span>
<span class="c1">//   i is now 0!</span>
<span class="c1">//   i is now 1!</span>
<span class="c1">//   [ more of the same between 2 and 7 ]</span>
<span class="c1">//   i is now 8!</span>
<span class="c1">//   i is now 9!</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is now %d!</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"All done!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>That gets you a basic loop. C also has a <code>for</code> loop which would have been cleaner for that example.</p>

<p>A not-uncommon use of <code>while</code> is for infinite loops where you repeat while true:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">while</span> <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"1 is always true, so this repeats forever.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>3.3.3 The <code>do-while</code> statement</h3>

<p>So now that we’ve gotten the <code>while</code> statement under control, let’s take a look at its closely related cousin, <code>do-while</code>.</p>

<p>They are basically the same, except if the loop condition is false on the first pass, <code>do-while</code> will execute once, but <code>while</code> won’t execute at all. In other words, the test to see whether or not to execute the block happens at the <em>end</em> of the block with <code>do-while</code>. It happens at the <em>beginning</em> of the block with <code>while</code>.</p>

<p>Let’s see by example:</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// Using a while statement:</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">// this is not executed because i is not less than 10:</span>
<span class="k">while</span><span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"while: i is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Using a do-while statement:</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="c1">// this is executed once, because the loop condition is not checked until</span>
<span class="c1">// after the body of the loop runs:</span>

<span class="k">do</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"do-while: i is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">);</span>

<span class="n">printf</span><span class="p">(</span><span class="s">"All done!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>Notice that in both cases, the loop condition is false right away. So in the <code>while</code>, the loop fails, and the following block of code is never executed. With the <code>do-while</code>, however, the condition is checked <em>after</em> the block of code executes, so it always executes at least once. In this case, it prints the message, increments <code>i</code>, then fails the condition, and continues to the “All done!” output.</p>

<p>The moral of the story is this: if you want the loop to execute at least once, no matter what the loop condition, use <code>do-while</code>.</p>

<p>All these examples might have been better done with a <code>for</code> loop. Let’s do something less deterministic—repeat until a certain random number comes up!</p>

<div class="highlight"><pre class="highlight c"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="c1">   // For printf</span><span class="cp">
#include</span> <span class="cpf">&lt;stdlib.h&gt;</span><span class="c1">  // For rand</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">r</span><span class="p">;</span>

    <span class="k">do</span> <span class="p">{</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">rand</span><span class="p">()</span> <span class="o">%</span> <span class="mi">100</span><span class="p">;</span> <span class="c1">// Get a random number between 0 and 99</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"%d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">r</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">r</span> <span class="o">!=</span> <span class="mi">37</span><span class="p">);</span>    <span class="c1">// Repeat until 37 comes up</span>
<span class="p">}</span>
</code></pre></div>

<p>Side note: did you run that more than once? If you did, did you notice the same sequence of numbers came up again. And again. And again? This is because <code>rand()</code> is a pseudorandom number generator that must be <em>seeded</em> with a different number in order to generate a different sequence. Look up the <a href="https://beej.us/guide/bgclr/html/split/stdlib.html#man-srand" rel="nofollow"><code>srand()</code></a><a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">⁴¹</a> function for more details.</p>

<h3>3.3.4 The <code>for</code> statement</h3>

<p>Welcome to one of the most popular loops in the world! The <code>for</code> loop!</p>

<p>This is a great loop if you know the number of times you want to loop in advance.</p>

<p>You could do the same thing using just a <code>while</code> loop, but the <code>for</code> loop can help keep the code cleaner.</p>

<p>Here are two pieces of equivalent code—note how the <code>for</code> loop is just a more compact representation:</p>

<div class="highlight"><pre class="highlight c"><code><span class="c1">// Print numbers between 0 and 9, inclusive...</span>

<span class="c1">// Using a while statement:</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Do the exact same thing with a for-loop:</span>

<span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"i is %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<p>That’s right, folks—they do exactly the same thing. But you can see how the <code>for</code> statement is a little more compact and easy on the eyes. (JavaScript users will fully appreciate its C origins at this point.)</p>

<p>It’s split into three parts, separated by semicolons. The first is the initialization, the second is the loop condition, and the third is what should happen at the end of the block if the loop condition is true. All three of these parts are optional.</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">for</span> <span class="p">(</span><span class="n">initialize</span> <span class="n">things</span><span class="p">;</span> <span class="n">loop</span> <span class="k">if</span> <span class="n">this</span> <span class="n">is</span> <span class="nb">true</span><span class="p">;</span> <span class="k">do</span> <span class="n">this</span> <span class="n">after</span> <span class="n">each</span> <span class="n">loop</span><span class="p">)</span>
</code></pre></div>

<p>Note that the loop will not execute even a single time if the loop condition starts off false.</p>

<blockquote>
<p><strong><code>for</code>-loop fun fact!</strong></p>

<p>You can use the comma operator to do multiple things in each clause of the <code>for</code> loop!</p>
<div class="highlight"><pre class="highlight c"><code><span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">999</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">,</span> <span class="n">j</span><span class="o">--</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"%d, %d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></blockquote>

<p>An empty <code>for</code> will run forever:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">for</span><span class="p">(;;)</span> <span class="p">{</span>  <span class="c1">// "forever"</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"I will print this again and again and again</span><span class="se">\n</span><span class="s">"</span> <span class="p">);</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"for all eternity until the heat-death of the universe.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Or until you hit CTRL-C.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

<h3>3.3.5 The <code>switch</code> Statement</h3>

<p>Depending on what languages you’re coming from, you might or might not be familiar with <code>switch</code>, or C’s version might even be more restrictive than you’re used to. This is a statement that allows you to take a variety of actions depending on the value of an integer expression.</p>

<p>Basically, it evaluates an expression to an integer value, jumps to the <code>case</code> that corresponds to that value. Execution resumes from that point. If a <code>break</code> statement is encountered, then execution jumps out of the <code>switch</code>.</p>

<p>Let’s do an example where the user enters a number of goats and we print out a gut-feel of how many goats that is.</p>

<div class="highlight"><pre class="highlight c"><code><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp">
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">goat_count</span><span class="p">;</span>

    <span class="n">printf</span><span class="p">(</span><span class="s">"Enter a goat count: "</span><span class="p">);</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">goat_count</span><span class="p">);</span>       <span class="c1">// Read an integer from the keyboard</span>

    <span class="k">switch</span> <span class="p">(</span><span class="n">goat_count</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"You have no goats.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"You have a singular goat.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"You have a brace of goats.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>

        <span class="nl">default:</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">"You have a bona fide plethora of goats!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>In that example, if the user enters, say, <code>2</code>, the <code>switch</code> will jump to the <code>case 2</code> and execute from there. When (if) it hits a <code>break</code>, it jumps out of the <code>switch</code>.</p>

<p>Also, you might see that <code>default</code> label there at the bottom. This is what happens when no cases match.</p>

<p>Every <code>case</code>, including <code>default</code>, is optional. And they can occur in any order, but it’s really typical for <code>default</code>, if any, to be listed last.</p>

<p>So the whole thing acts like an <code>if</code>-<code>else</code> cascade:</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">if</span> <span class="p">(</span><span class="n">goat_count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"You have no goats.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">goat_count</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"You have a singular goat.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="k">else</span> <span class="nf">if</span> <span class="p">(</span><span class="n">goat_count</span> <span class="o">==</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"You have a brace of goats.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
<span class="k">else</span>
    <span class="nf">printf</span><span class="p">(</span><span class="s">"You have a bona fide plethora of goats!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
</code></pre></div>

<p>With some key differences:</p>

<ul>
<li>  <code>switch</code> is often faster to jump to the correct code (though the spec makes no such guarantee).</li>
<li>  <code>if</code>-<code>else</code> can do things like relational conditionals like <code>&lt;</code> and <code>&gt;=</code> and floating point and other types, while <code>switch</code> cannot.</li>
</ul>

<p>There’s one more neat thing about switch that you sometimes see that is quite interesting: <em>fall through</em>.</p>

<p>Remember how <code>break</code> causes us to jump out of the switch?</p>

<p>Well, what happens if we <em>don’t</em> <code>break</code>?</p>

<p>Turns out we just keep on going into the next <code>case</code>! Demo!</p>

<div class="highlight"><pre class="highlight c"><code><span class="k">switch</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"1</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="c1">// Fall through!</span>
    <span class="k">case</span> <span class="mi">2</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"2</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"3</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>If <code>x == 1</code>, this <code>switch</code> will first hit <code>case 1</code>, it’ll print the <code>1</code>, but then it just continues on to the next line of code… which prints <code>2</code>!</p>

<p>And then, at last, we hit a <code>break</code> so we jump out of the <code>switch</code>.</p>

<p>if <code>x == 2</code>, then we just hit the <code>case 2</code>, print <code>2</code>, and <code>break</code> as normal.</p>

<p>Not having a <code>break</code> is called <em>fall through</em>.</p>

<p>ProTip: <em>ALWAYS</em> put a comment in the code where you intend to fall through, like I did above. It will save other programmers from wondering if you meant to do that.</p>

<p>In fact, this is one of the common places to introduce bugs in C programs: forgetting to put a <code>break</code> in your <code>case</code>. You gotta do it if you don’t want to just roll into the next case<a href="https://ovelny.sh/chaos/beej&#x27;s-guide-to-c-programming/99-footnotes/" rel="nofollow">⁴²</a>.</p>

<p>Earlier I said that <code>switch</code> works with integer types—keep it that way. Don’t use floating point or string types in there. One loophole-ish thing here is that you can use character types because those are secretly integers themselves. So this is perfectly acceptable:</p>

<div class="highlight"><pre class="highlight c"><code><span class="kt">char</span> <span class="n">c</span> <span class="o">=</span> <span class="sc">'b'</span><span class="p">;</span>

<span class="k">switch</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="sc">'a'</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"It's 'a'!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="sc">'b'</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"It's 'b'!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>

    <span class="k">case</span> <span class="sc">'c'</span><span class="p">:</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">"It's 'c'!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
        <span class="k">break</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Finally, you can use <code>enum</code>s in <code>switch</code> since they are also integer types. But more on that in the <code>enum</code> chapter.</p>

    
    </main>
    <footer id="footer">
      <div class="footer-section"><a href="/license/">CC BY-NC-SA 4.0</a><p>&nbsp;::&nbsp;2019 - 2025 ovelny</p></div>
      <div class="footer-section">「七転び八起き」</div>
    </footer>
  </body>
</html>

